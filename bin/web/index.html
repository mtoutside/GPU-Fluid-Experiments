<!DOCTYPE html>
<html lang="ja">

    <head>

        <link rel="icon" href="favicon.png"/>
        <meta charset="utf-8">
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.sound.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css" />

        <style>
            body {
                color: #fff;
                font-size: 14px;
                line-height: 1.5;
            }
            #app {
                display: block;
                position: relative;
                margin: 2em auto 0 auto;
                z-index: 1;
            }

            .p5Canvas {
                position: absolute;
                z-index: 2;
                top: 0;
            }

            #restart {
                color: green;
                font-size: 20px;
                position: absolute;
                z-index: 5;
                cursor: pointer;
            }

            .menu {
                width: 100%;
                height: 100%;
                position: absolute;
                z-index: 6;
                background: #000;
                opacity: .8;
            }

            .menu__wrapper {
                width: 100%;
                height: 100%;
                position: absolute;
                display: flex;
                flex-flow: column;
                justify-content: center;
                align-items: center;
            }

            .button__wrapper {
                display: flex;
                justify-content: center;
            }

            .button {
                width: 200px;
                height: 100px;
                background: #33a;
                color: #fff;
                font-size: 16px;
                border: none;
                cursor: pointer;
                margin: 10px;
            }

            .title,
            .score {
                font-size: 32px;
                color: #d06;
                margin: 10px 0 0 0;
            }

            .howto {
                color: #fff;
                font-size: 20px;
                margin-top: 20px;
            }

            .titlearea {
                text-align: center;
                height: 150px;
            }

            .none {
                display: none;
            }
            .display {
                display: block;
            }
        </style>

        <!-- <script src="http://localhost:8080/skewer"></script> -->

    </head>

    <body style="padding: 0; margin: 0; background-color: #111111;">
        <div class="menu">
            <div class="menu__wrapper">
                <div class="titlearea">
                    <h1 class="title">Red Snapper game</h1>
                    <p class="howto">鯛を操作して小魚を捕まえよう！！</p>
                </div>
                <div class="button__wrapper">
                    <p>PRESS THE BUTTON TO START</p>
                    <!-- <button class="button button&#45;&#45;start">START</button> -->
                    <!-- <button class="button button&#45;&#45;again none">MENU</button> -->
                </div>
            </div>
        </div>
        <script type="text/javascript" src="./GPUFluid.js"></script>
        <script defer type="text/javascript" src="./boids.js"></script>
        <script defer>
            // const again = document.querySelector('.button--again');
            // const start = document.querySelector('.button--start');
            const menu = document.querySelector('.menu');
            let isRunning = false;
            let gameOver = false;
            let game;

            // again.addEventListener('click', () => {
                // history.go(0);
                // location.reload();
                // menu.classList.toggle('none');
            // });

            // start.addEventListener('click', () => {
            //     const boidsSketch = new p5(sketch);
            //     menu.classList.add('none');
            // });

        window.addEventListener('keydown', (eve) => {
            if(!isRunning) {
                if(eve.key === 'Enter') {
                    if(!gameOver) {
                        game = new p5(sketch);
                        menu.classList.toggle('none');
                        isRunning = true;
                    } else {
                        location.reload();
                    }
                }
            }
        }, false);

        </script>

    </body>

</html>
